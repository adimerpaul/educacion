import{a as m,c as D,r as g,E as B,an as U,H as O,h as d,aj as M,d as A,b7 as W,w as Y,b5 as q,g as G,_ as J,O as L,P as K,Q as v,R as l,T as o,Y as X,a1 as Z,ay as T,U as ee,b1 as te,S as ie,V as oe}from"./index.97c990ed.js";import{a as se,Q as ae}from"./QForm.bd1efe33.js";import{Q as le}from"./QPage.e2342141.js";import{a as ne,b as re}from"./QLayout.34e92371.js";const ue={ratio:[String,Number]};function de(e,t){return m(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const ce=1.7778;var p=D({name:"QImg",props:{...ue,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ce},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const w=g(e.initialRatio),s=de(e,w),f=G(),{registerTimeout:a,removeTimeout:b}=B(),{registerTimeout:V,removeTimeout:k}=B(),_=m(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),N=m(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),r=[g(null),g(_.value)],u=g(0),h=g(!1),S=g(!1),I=m(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),z=m(()=>({width:e.width,height:e.height})),P=m(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),R=m(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function E(){if(k(),e.loadingShowDelay===0){h.value=!0;return}V(()=>{h.value=!0},e.loadingShowDelay)}function x(){k(),h.value=!1}function F({target:i}){q(f)===!1&&(b(),w.value=i.naturalHeight===0?.5:i.naturalWidth/i.naturalHeight,C(i,1))}function C(i,c){c===1e3||q(f)===!0||(i.complete===!0?H(i):a(()=>{C(i,c+1)},50))}function H(i){q(f)!==!0&&(u.value=u.value^1,r[u.value].value=null,x(),i.getAttribute("__qerror")!=="true"&&(S.value=!1),n("load",i.currentSrc||i.src))}function $(i){b(),x(),S.value=!0,r[u.value].value=N.value,r[u.value^1].value=_.value,n("error",i)}function Q(i){const c=r[i].value,y={key:"img_"+i,class:P.value,style:R.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...c};return u.value===i?Object.assign(y,{class:y.class+"current",onLoad:F,onError:$}):y.class+="loaded",d("div",{class:"q-img__container absolute-full",key:"img"+i},d("img",y))}function j(){return h.value===!1?d("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},A(t[S.value===!0?"error":"default"])):d("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[d(W,{color:e.spinnerColor,size:e.spinnerSize})])}{let i=function(){Y(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,c=>{b(),S.value=!1,c===null?(x(),r[u.value^1].value=_.value):E(),r[u.value].value=c},{immediate:!0})};U.value===!0?O(i):i()}return()=>{const i=[];return s.value!==null&&i.push(d("div",{key:"filler",style:s.value})),r[0].value!==null&&i.push(Q(0)),r[1].value!==null&&i.push(Q(1)),i.push(d(M,{name:"q-transition--fade"},j)),d("div",{key:"main",class:I.value,style:z.value,role:"img","aria-label":e.alt},i)}}});const me={data(){return{username:"",password:"",remember:!1,loading:!1,showPassword:!1}},methods:{login(){this.loading=!0,this.$axios.post("login",{username:this.username,password:this.password}).then(e=>{const t=e.data.user,n=e.data.token;this.$axios.defaults.headers.common.Authorization=`Bearer ${n}`,this.$store.isLogged=!0,this.$store.user=t,localStorage.setItem("tokenEducation",n),this.$alert.success("Bienvenido "+t.name),this.$router.push("/")}).catch(e=>{this.$alert.error(e.response.data.message)}).finally(()=>{this.loading=!1})}}},ge={class:"row"},fe={key:0,class:"col-12 col-md-8 flex flex-center",style:{background:"#E6EDF9",height:"100vh"}},ve={style:{position:"absolute",top:"25px",left:"40px"}},he={class:"col-12 col-md-4 flex flex-center"},Se={class:"row q-pa-lg"},ye={class:"col-12 flex flex-center"},we={class:"col-12 q-pt-md"},be={class:"col-12"},_e={class:"col-12 row items-center"},xe={class:"col-12 q-mt-md"};function qe(e,t,n,w,s,f){return L(),K(ne,{view:"lHh Lpr lFf"},{default:v(()=>[l(re,null,{default:v(()=>[l(le,null,{default:v(()=>[o("div",ge,[e.$q.screen.lt.md?Z("",!0):(L(),X("div",fe,[o("div",ve,[l(p,{src:"logoLargo.png",width:"150px"})]),l(p,{src:"login-bg-BprgzFH_.svg",width:"450px"})])),o("div",he,[l(se,{onSubmit:f.login,class:"q-gutter-md",style:{"max-width":"400px"}},{default:v(()=>[o("div",Se,[o("div",ye,[l(p,{src:"logoLargo.png",width:"150px"})]),t[7]||(t[7]=o("div",{class:"col-12 text-h6 text-bold"},"Bienvenido al sistema",-1)),t[8]||(t[8]=o("div",{class:"col-12 text-subtitle1"},"Inicia sesi\xF3n para continuar",-1)),o("div",we,[t[4]||(t[4]=o("label",{for:"username",class:"text-bold"},"Usuario",-1)),l(T,{outlined:"",modelValue:s.username,"onUpdate:modelValue":t[0]||(t[0]=a=>s.username=a),rules:[a=>!!a||"Este campo es requerido"]},null,8,["modelValue","rules"])]),o("div",be,[t[5]||(t[5]=o("label",{for:"password",class:"text-bold"},"Contrase\xF1a",-1)),l(T,{outlined:"",modelValue:s.password,"onUpdate:modelValue":t[2]||(t[2]=a=>s.password=a),type:s.showPassword?"text":"password",rules:[a=>!!a||"Este campo es requerido"]},{append:v(()=>[l(ee,{name:s.showPassword?"visibility":"visibility_off",onClick:t[1]||(t[1]=a=>s.showPassword=!s.showPassword)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),o("div",_e,[l(te,{modelValue:s.remember,"onUpdate:modelValue":t[3]||(t[3]=a=>s.remember=a),label:"Recordar usuario"},null,8,["modelValue"]),l(ae),t[6]||(t[6]=o("a",{href:""},[o("span",{class:"text-caption"},"\xBFOlvidaste tu contrase\xF1a?")],-1))]),o("div",xe,[l(ie,{color:"blue",label:"Iniciar sesi\xF3n",class:"full-width","no-caps":"",loading:s.loading,type:"submit"},null,8,["loading"])]),t[9]||(t[9]=o("div",{class:"col-12 q-mt-md"},[oe(" No tienes cuenta? "),o("a",{href:""},"Reg\xEDstrate")],-1))])]),_:1},8,["onSubmit"])])])]),_:1})]),_:1})]),_:1})}var Be=J(me,[["render",qe]]);export{Be as default};

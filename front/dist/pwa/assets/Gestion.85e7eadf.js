import{Q as m,a as g}from"./QForm.7e0453cf.js";import{_ as V,O as h,P as y,Q as n,R as l,S as t,az as c,aA as v,T as a,W as P,ay as d,aB as b}from"./index.887e7340.js";import{Q as z}from"./QToolbar.bfb8e013.js";import{Q as x}from"./format.11943369.js";import{h as u,Q as f,a as E,b as C}from"./moment.59a6ec3d.js";import{Q as F}from"./QMarkupTable.b4b26b14.js";import{Q as U}from"./QPage.aa820381.js";const G={data(){return{periodos:[],periodo:{},periodoDialog:!1,loading:!1,actionPeriodo:"",gestiones:[],columns:[{name:"actions",label:"Acciones",align:"center"},{name:"periodo",label:"Periodo",align:"left",field:"periodo",sortable:!0},{name:"estado",label:"Estado",align:"left",field:"estado",sortable:!0},{name:"fechaInicio",label:"Fecha inicio",align:"left",field:"fechaInicio",sortable:!0},{name:"fechaFin",label:"Fecha fin",align:"left",field:"fechaFin",sortable:!0}],peridosSelect:[]}},mounted(){this.periodosGet();let s=u().year();for(let e=s-5;e<=s+5;e++)this.peridosSelect.push(e)},methods:{newPeriodo(){this.periodo={periodo:u().year(),fechaInicio:u().format("YYYY-MM-DD"),fechaFin:u().format("YYYY-MM-DD"),accionInstitucional:"Lograr la participaci\xF3n, corresponsabilidad social comunitaria y armonizada de todos los actores involucrados en la educaci\xF3n en el departamento.",accionCortoPlazo:'Universalizar el Modelo Educativo Socio-Comunitario Productivo (MESCP) y Lograr la participaci\xF3n, corresponsabilidad social comunitaria y armonizada de todos los actores involucrados en la educaci\xF3n en el departamento de Oruro. en la gesti\xF3n 2020, enmarcado en la cpe, ley n\xB01178, ley n\xB0070 de educaci\xF3n "avelino si\xF1ani - elizardo p\xE9rez", d.s. n\xB0813, normas generales para la gesti\xF3n educativa y normas conexas.',resultadoEsperado1:"Se incentiv\xF3 la participaci\xF3n activa de padres y madres de familia, y organizaciones sociales en la implementaci\xF3n de los documentos curriculares.",resultadoEsperado2:"Se incentiv\xF3 la apropiaci\xF3n y funcionamiento de los consejos Educativos.",totalPresupuesto:2186420,accionCortoPlazo1:'Universalizar el Modelo Educativo Socio-Comunitario Productivo (MESCP) y Lograr la participaci\xF3n, corresponsabilidad social comunitaria y armonizada de todos los actores involucrados en la educaci\xF3n en el departamento de Oruro. en la gesti\xF3n 2020, enmarcado en la cpe, ley n\xB01178, ley n\xB0070 de educaci\xF3n "avelino si\xF1ani - elizardo p\xE9rez", d.s. n\xB0813, normas generales para la gesti\xF3n educativa y normas conexas.',accionCortoPlazo2:'Universalizar el Modelo Educativo Socio-Comunitario Productivo (MESCP) y Lograr la participaci\xF3n, corresponsabilidad social comunitaria y armonizada de todos los actores involucrados en la educaci\xF3n en el departamento de Oruro. en la gesti\xF3n 2020, enmarcado en la cpe, ley n\xB01178, ley n\xB0070 de educaci\xF3n "avelino si\xF1ani - elizardo p\xE9rez", d.s. n\xB0813, normas generales para la gesti\xF3n educativa y normas conexas.',accionCortoPlazo3:'Universalizar el Modelo Educativo Socio-Comunitario Productivo (MESCP) y Lograr la participaci\xF3n, corresponsabilidad social comunitaria y armonizada de todos los actores involucrados en la educaci\xF3n en el departamento de Oruro. en la gesti\xF3n 2020, enmarcado en la cpe, ley n\xB01178, ley n\xB0070 de educaci\xF3n "avelino si\xF1ani - elizardo p\xE9rez", d.s. n\xB0813, normas generales para la gesti\xF3n educativa y normas conexas.',resultadoEsperadoGestion1:"Se incentiv\xF3 la participaci\xF3n activa de padres y madres de familia, y organizaciones sociales en la implementaci\xF3n de los documentos curriculares.",resultadoEsperadoGestion2:"Se incentiv\xF3 la apropiaci\xF3n y funcionamiento de los consejos Educativos.",resultadoEsperadoGestion3:"Se incentiv\xF3 la participaci\xF3n activa de padres y madres de familia, y organizaciones sociales en la implementaci\xF3n de los documentos curriculares.",resultadoEsperadoGestion4:"Se incentiv\xF3 la apropiaci\xF3n y funcionamiento de los consejos Educativos.",resultadoEsperadoGestion5:"Se incentiv\xF3 la participaci\xF3n activa de padres y madres de familia, y organizaciones sociales en la implementaci\xF3n de los documentos curriculares.",fechaPrevistaInicio1:"2020-01-01",fechaPrevistaInicio2:"2020-01-01",fechaPrevistaInicio3:"2020-01-01",fechaPrevistaFinalizacion1:"2020-12-31",fechaPrevistaFinalizacion2:"2020-12-31",fechaPrevistaFinalizacion3:"2020-12-31"},this.actionPeriodo="Nuevo",this.periodoDialog=!0},periodosGet(){this.loading=!0,this.$axios.get("periodos").then(s=>{this.periodos=s.data}).catch(s=>{this.$alert.error(s.response.data.message)}).finally(()=>{this.loading=!1})},gestionGet(){this.loading=!0,this.$axios.get("gestiones").then(s=>{this.gestiones=s.data,this.loading=!1}).catch(s=>{this.$alert.error(s.response.data.message),this.loading=!1})},periodoPost(){this.loading=!0,this.$axios.post("periodos",this.periodo).then(s=>{this.periodosGet(),this.periodoDialog=!1,this.$alert.success("Periodo creado")}).catch(s=>{this.$alert.error(s.response.data.message)}).finally(()=>{this.loading=!1})},periodoPut(){this.loading=!0,this.$axios.put("periodos/"+this.periodo.id,this.periodo).then(s=>{this.periodosGet(),this.periodoDialog=!1,this.$alert.success("Periodo actualizado")}).catch(s=>{this.$alert.error(s.response.data.message)}).finally(()=>{this.loading=!1})},periodoEdit(s){this.periodo={...s},this.actionPeriodo="Editar",this.periodoDialog=!0},imprimirf1(s){const e=this.$url+"formulario1/"+s.id;window.open(e,"_blank")},periodoDelete(s){this.$alert.dialog("\xBFDesea eliminar el periodo?").onOk(()=>{this.loading=!0,this.$axios.delete("periodos/"+s).then(e=>{this.periodosGet(),this.$alert.success("Periodo eliminado")}).catch(e=>{this.$alert.error(e.response.data.message)}).finally(()=>{this.loading=!1})})}}},S={class:"text-subtitle2"},w={class:"row"},Q={class:"col-12 col-md-4"},_={class:"col-12 col-md-4"},D={class:"col-12 col-md-4"},I={class:"row"},k={class:"col-12 col-md-4"},M={class:"col-12 col-md-4"},q={class:"col-12 col-md-4"},R={class:"col-12 col-md-4"},Y={class:"col-12 col-md-4"},A={class:"row"},B={class:"col-12 col-md-4"},N={class:"col-12 col-md-4"},O={class:"col-12 col-md-4"},L={class:"col-12 col-md-4"},T={class:"col-12 col-md-4"},j={class:"col-12 col-md-4"},W={class:"col-12 col-md-4"},H={class:"col-12 col-md-4"},J={class:"col-12 col-md-4"},K={class:"col-12 col-md-4"},X={class:"col-12 col-md-4"},Z={class:"col-12 col-md-4"},$={class:"col-12 col-md-4"},ee={class:"col-12 col-md-4"};function oe(s,e,ie,le,i,r){return h(),y(U,{class:"q-pa-md"},{default:n(()=>[l(E,{rows:i.periodos,columns:i.columns,dense:"","wrap-cells":"",flat:"",bordered:"","rows-per-page-options":[0],title:"Gestiones"},{"top-right":n(()=>[l(z,null,{default:n(()=>[l(m),l(t,{color:"primary",label:"Nuevo",onClick:r.newPeriodo,outline:"","no-caps":"",size:"10px",icon:"add_circle_outline",loading:i.loading},null,8,["onClick","loading"])]),_:1})]),"body-cell-actions":n(o=>[l(f,{props:o},{default:n(()=>[l(x,{flat:""},{default:n(()=>[l(t,{color:"primary",icon:"edit",onClick:p=>r.periodoEdit(o.row),dense:"",size:"10px"},null,8,["onClick"]),l(t,{color:"negative",icon:"delete",onClick:p=>r.periodoDelete(o.row.id),dense:"",size:"10px"},null,8,["onClick"]),l(t,{color:"primary",icon:"print",onClick:p=>r.imprimirf1(o.row),dense:"",size:"10px"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-estado":n(o=>[l(f,{props:o},{default:n(()=>[l(F,{label:o.row.estado,color:o.row.estado==="Vigente"?"green":o.row.estado==="Pr\xF3ximo"?"orange":"red","text-color":"white",dense:"",size:"14px"},null,8,["label","color"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]),l(b,{modelValue:i.periodoDialog,"onUpdate:modelValue":e[25]||(e[25]=o=>i.periodoDialog=o),persistent:""},{default:n(()=>[l(c,{style:{"min-width":"70vw"}},{default:n(()=>[l(v,{class:"q-pb-none row items-center"},{default:n(()=>[a("div",S,P(i.actionPeriodo)+" periodo ",1),l(m),l(t,{icon:"close",flat:"",round:"",dense:"",onClick:e[0]||(e[0]=o=>i.periodoDialog=!1)})]),_:1}),l(v,{class:"q-pt-none"},{default:n(()=>[l(g,{onSubmit:e[24]||(e[24]=o=>i.periodo.id?r.periodoPut():r.periodoPost())},{default:n(()=>[l(c,{flat:"",bordered:"",class:"q-pa-md"},{default:n(()=>[a("div",w,[e[26]||(e[26]=a("div",{class:"col-12 text-subtitle2"}," Gesti\xF3n ",-1)),a("div",Q,[l(C,{modelValue:i.periodo.periodo,"onUpdate:modelValue":e[1]||(e[1]=o=>i.periodo.periodo=o),label:"Periodo",outlined:"",dense:"",options:i.peridosSelect},null,8,["modelValue","options"])]),a("div",_,[l(d,{modelValue:i.periodo.fechaInicio,"onUpdate:modelValue":e[2]||(e[2]=o=>i.periodo.fechaInicio=o),label:"Fecha inicio",type:"date",outlined:"",dense:""},null,8,["modelValue"])]),a("div",D,[l(d,{modelValue:i.periodo.fechaFin,"onUpdate:modelValue":e[3]||(e[3]=o=>i.periodo.fechaFin=o),label:"Fecha fin",type:"date",outlined:"",dense:""},null,8,["modelValue"])])])]),_:1}),l(c,{flat:"",bordered:"",class:"q-pa-md q-mt-md"},{default:n(()=>[a("div",I,[e[27]||(e[27]=a("div",{class:"col-12 text-subtitle2"}," Formulario Nro. 1 ",-1)),a("div",k,[l(d,{type:"textarea",modelValue:i.periodo.accionInstitucional,"onUpdate:modelValue":e[4]||(e[4]=o=>i.periodo.accionInstitucional=o),label:"Acci\xF3n institucional",outlined:"",dense:""},null,8,["modelValue"])]),a("div",M,[l(d,{type:"textarea",modelValue:i.periodo.accionCortoPlazo,"onUpdate:modelValue":e[5]||(e[5]=o=>i.periodo.accionCortoPlazo=o),label:"Acci\xF3n a corto plazo",outlined:"",dense:""},null,8,["modelValue"])]),a("div",q,[l(d,{type:"textarea",modelValue:i.periodo.resultadoEsperado1,"onUpdate:modelValue":e[6]||(e[6]=o=>i.periodo.resultadoEsperado1=o),label:"Resultado esperado 1",outlined:"",dense:""},null,8,["modelValue"])]),a("div",R,[l(d,{type:"textarea",modelValue:i.periodo.resultadoEsperado2,"onUpdate:modelValue":e[7]||(e[7]=o=>i.periodo.resultadoEsperado2=o),label:"Resultado esperado 2",outlined:"",dense:""},null,8,["modelValue"])]),a("div",Y,[l(d,{modelValue:i.periodo.totalPresupuesto,"onUpdate:modelValue":e[8]||(e[8]=o=>i.periodo.totalPresupuesto=o),label:"Total presupuesto",outlined:"",dense:""},null,8,["modelValue"])])])]),_:1}),l(c,{flat:"",bordered:"",class:"q-pa-md q-mt-md"},{default:n(()=>[a("div",A,[e[28]||(e[28]=a("div",{class:"col-12 text-subtitle2"}," Formulario Nro. 2 ",-1)),a("div",B,[l(d,{type:"textarea",modelValue:i.periodo.accionCortoPlazo1,"onUpdate:modelValue":e[9]||(e[9]=o=>i.periodo.accionCortoPlazo1=o),label:"Acci\xF3n a corto plazo 1",outlined:"",dense:""},null,8,["modelValue"])]),a("div",N,[l(d,{type:"textarea",modelValue:i.periodo.accionCortoPlazo2,"onUpdate:modelValue":e[10]||(e[10]=o=>i.periodo.accionCortoPlazo2=o),label:"Acci\xF3n a corto plazo 2",outlined:"",dense:""},null,8,["modelValue"])]),a("div",O,[l(d,{type:"textarea",modelValue:i.periodo.accionCortoPlazo3,"onUpdate:modelValue":e[11]||(e[11]=o=>i.periodo.accionCortoPlazo3=o),label:"Acci\xF3n a corto plazo 3",outlined:"",dense:""},null,8,["modelValue"])]),a("div",L,[l(d,{type:"textarea",modelValue:i.periodo.resultadoEsperadoGestion1,"onUpdate:modelValue":e[12]||(e[12]=o=>i.periodo.resultadoEsperadoGestion1=o),label:"Resultado esperado gesti\xF3n 1",outlined:"",dense:""},null,8,["modelValue"])]),a("div",T,[l(d,{type:"textarea",modelValue:i.periodo.resultadoEsperadoGestion2,"onUpdate:modelValue":e[13]||(e[13]=o=>i.periodo.resultadoEsperadoGestion2=o),label:"Resultado esperado gesti\xF3n 2",outlined:"",dense:""},null,8,["modelValue"])]),a("div",j,[l(d,{type:"textarea",modelValue:i.periodo.resultadoEsperadoGestion3,"onUpdate:modelValue":e[14]||(e[14]=o=>i.periodo.resultadoEsperadoGestion3=o),label:"Resultado esperado gesti\xF3n 3",outlined:"",dense:""},null,8,["modelValue"])]),a("div",W,[l(d,{type:"textarea",modelValue:i.periodo.resultadoEsperadoGestion4,"onUpdate:modelValue":e[15]||(e[15]=o=>i.periodo.resultadoEsperadoGestion4=o),label:"Resultado esperado gesti\xF3n 4",outlined:"",dense:""},null,8,["modelValue"])]),a("div",H,[l(d,{type:"textarea",modelValue:i.periodo.resultadoEsperadoGestion5,"onUpdate:modelValue":e[16]||(e[16]=o=>i.periodo.resultadoEsperadoGestion5=o),label:"Resultado esperado gesti\xF3n 5",outlined:"",dense:""},null,8,["modelValue"])]),a("div",J,[l(d,{modelValue:i.periodo.fechaPrevistaInicio1,"onUpdate:modelValue":e[17]||(e[17]=o=>i.periodo.fechaPrevistaInicio1=o),label:"Fecha prevista inicio 1",type:"date",outlined:"",dense:""},null,8,["modelValue"])]),a("div",K,[l(d,{modelValue:i.periodo.fechaPrevistaInicio2,"onUpdate:modelValue":e[18]||(e[18]=o=>i.periodo.fechaPrevistaInicio2=o),label:"Fecha prevista inicio 2",type:"date",outlined:"",dense:""},null,8,["modelValue"])]),a("div",X,[l(d,{modelValue:i.periodo.fechaPrevistaInicio3,"onUpdate:modelValue":e[19]||(e[19]=o=>i.periodo.fechaPrevistaInicio3=o),label:"Fecha prevista inicio 3",type:"date",outlined:"",dense:""},null,8,["modelValue"])]),a("div",Z,[l(d,{modelValue:i.periodo.fechaPrevistaFinalizacion1,"onUpdate:modelValue":e[20]||(e[20]=o=>i.periodo.fechaPrevistaFinalizacion1=o),label:"Fecha prevista finalizaci\xF3n 1",type:"date",outlined:"",dense:""},null,8,["modelValue"])]),a("div",$,[l(d,{modelValue:i.periodo.fechaPrevistaFinalizacion2,"onUpdate:modelValue":e[21]||(e[21]=o=>i.periodo.fechaPrevistaFinalizacion2=o),label:"Fecha prevista finalizaci\xF3n 2",type:"date",outlined:"",dense:""},null,8,["modelValue"])]),a("div",ee,[l(d,{modelValue:i.periodo.fechaPrevistaFinalizacion3,"onUpdate:modelValue":e[22]||(e[22]=o=>i.periodo.fechaPrevistaFinalizacion3=o),label:"Fecha prevista finalizaci\xF3n 3",type:"date",outlined:"",dense:""},null,8,["modelValue"])])])]),_:1}),a("div",null,[l(t,{color:"negative",label:"Cancelar",onClick:e[23]||(e[23]=o=>i.periodoDialog=!1),"no-caps":"",loading:i.loading},null,8,["loading"]),l(t,{color:"primary",label:"Guardar",type:"submit","no-caps":"",loading:i.loading,class:"q-ml-sm"},null,8,["loading"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var ue=V(G,[["render",oe]]);export{ue as default};
